# 重构步骤说明：
## 1.分解statement函数
每当看到这样长长的函数，我便下意识地想从整个函数中分离出不同的关注点。第一个引起我注意的就是中间那段switch语句。
## 2.移除play变量
当我分解一个长函数时，我喜欢将play这样的变量移除掉，因为它们创建了很多具有局部作用域的临时变量，这会使提炼函数更加复杂。这里我要使用的重构手法是**以查询取代临时变量**
## 3.提炼计算观众量积分的逻辑
## 4.移除forma变量
## 5.移除观众量积分总和
- *使用拆分循环* 分离出累加过程；
- *使用移动语句* 将累加变量的声明与累加过程集中到一起；
- *使用提炼函数* 提炼出计算总数的函数；
- *使用内联变量* 完全移除中间变量。
##  6.拆分计算阶段与格式化阶段
- *搬移函数*
- *以管道取代循环*